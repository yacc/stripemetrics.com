#content.span10
  .row-fluid
    .box.span8{:ondesktop => "span8", :ontablet => "span12"}
      .box-header
        %h2
          %i.icon-signal
          = succeed "New" do
            %span.break
          Subscriptions
        .box-icon
          %a.btn-setting{:href => "#"}
            %i.icon-wrench
          %a.btn-minimize{:href => "#"}
            %i.icon-chevron-up
          %a.btn-close{:href => "#"}
            %i.icon-remove
      .box-content
        #trend-chart.center{:style => "height:300px"}

:javascript
  $(function () {
  var chart;
  $(document).ready(function() {
      chart = new Highcharts.Chart({
          chart: {
              renderTo: 'trend-chart',
              zoomType: 'x',
              spacingRight: 20
          },
          title: {
              text: 'Customer Acquisition'
          },
          subtitle: {
              text: document.ontouchstart === undefined ?
                  'Click and drag in the plot area to zoom in' :
                  'Drag your finger over the plot to zoom in'
          },
          xAxis: {
              type: 'datetime',
              maxZoom: 14 * 24 * 3600000, // fourteen days
              title: {
                  text: null
              }
          },
          yAxis: {
              title: {
                  text: '# Subscription'
              },
              showFirstLabel: false
          },
          tooltip: {
              shared: true
          },
          legend: {
              enabled: false
          },
          plotOptions: {
              area: { 
                  fillColor: {
                      linearGradient: { x1: 0, y1: 0, x2: 0, y2: 1},
                      stops: [
                          [0, Highcharts.getOptions().colors[0]],
                          [1, 'rgba(2,0,0,0)']
                      ]
                  },
                  lineWidth: 1,
                  marker: {
                      enabled: false,
                      states: {
                          hover: {
                              enabled: true,
                              radius: 5
                          }
                      }
                  },
                  shadow: false,
                  states: {
                      hover: {
                          lineWidth: 1
                      }
                  },
                  threshold: null
              }
          },
  
          series: [{
              type: 'area',
              name: '#{@trend.name}',
              pointInterval: 24 * 3600 * 1000,
              pointStart: #{@trend.start_at},
              data: #{@trend.data}
          }]
      });
  });
  });


